<div class="task-container">
  <h1>Task Manager</h1>
  <form (ngSubmit)="submitTask()" #taskForm="ngForm" autocomplete="off">
    <div class="form-row">
      <input name="title" [(ngModel)]="form.title" required placeholder="Title" />
      <input name="description" [(ngModel)]="form.description" required placeholder="Description" />
      <input name="dueDate" [(ngModel)]="form.dueDate" type="date" required />
      <select name="priority" [(ngModel)]="form.priority">
        <option>High</option>
        <option>Medium</option>
        <option>Low</option>
      </select>
      <input name="category" [(ngModel)]="form.category" placeholder="Category" />
      <select name="status" [(ngModel)]="form.status">
        <option>Pending</option>
        <option>In Progress</option>
        <option>Completed</option>
      </select>
      <label>
        <input type="checkbox" name="isCompleted" [(ngModel)]="form.isCompleted" /> Completed
      </label>
    </div>
    <div class="form-actions">
      <button type="submit" [disabled]="!taskForm.form.valid">{{ editingTask ? 'Update' : 'Create' }} Task</button>
      <button type="button" *ngIf="editingTask" (click)="cancelEdit()">Cancel</button>
    </div>
  </form>

  <table class="task-table" *ngIf="tasks.length">
    <thead>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Due Date</th>
        <th>Priority</th>
        <th>Category</th>
        <th>Status</th>
        <th>Completed</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let task of tasks">
        <td>{{ task.title }}</td>
        <td>{{ task.description }}</td>
        <td>{{ task.dueDate }}</td>
        <td>{{ task.priority }}</td>
        <td>{{ task.category }}</td>
        <td>{{ task.status }}</td>
        <td>
          <input type="checkbox" [checked]="task.isCompleted" disabled />
        </td>
        <td>
          <button (click)="editTask(task)">Edit</button>
          <button (click)="deleteTask(task)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
  <div *ngIf="!tasks.length" class="no-tasks">No tasks yet. Add your first task!</div>
</div>
